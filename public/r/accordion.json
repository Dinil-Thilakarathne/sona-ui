{
  "name": "accordion",
  "type": "registry:ui",
  "title": "Accordion",
  "description": "The `Accordion` component allows you to toggle the visibility of content sections. It is useful for FAQs, menus, and more.",
  "files": [
    {
      "path": "registry/sonaui/accordion/accordion.tsx",
      "content": "\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n  useRef,\n  type ReactNode,\n} from \"react\";\nimport { motion } from \"motion/react\";\n\nimport { cn } from \"@/lib/utils\";\nimport AnimatedPlusMinusButton from \"./animated-plus-minus-button\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\n// Types\ntype AccordionVariant = \"default\" | \"outlined\" | \"splitted\";\n\ninterface AccordionProps {\n  children: ReactNode;\n  allowMultiple?: boolean;\n  className?: string;\n  variant?: AccordionVariant;\n}\n\nconst accordionWrapperVarinats = cva(\n  \"flex flex-col overflow-clip rounded-2xl\",\n  {\n    variants: {\n      variant: {\n        default: \"overflow-clip rounded-2xl\",\n        outlined: \"overflow-clip rounded-2xl\",\n        splitted: \"overflow-clip rounded-2xl\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst accordionItemVariants = cva(\n  \"relative overflow-hidden bg-background text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"border-b border-border\",\n        outlined:\n          \"border-foreground border-t border-x last:border-b first:rounded-t-2xl last:rounded-b-2xl\",\n        splitted: \"rounded-2xl \",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\ninterface AccordionItemProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof accordionItemVariants> {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\ninterface AccordionItemHeaderProps {\n  value: string;\n  children: ReactNode;\n}\ninterface AccordionItemTriggerProps {\n  value: string;\n  children: ReactNode;\n}\n\ninterface AccordionItemContentProps {\n  children: ReactNode;\n  value: string;\n}\n\nconst AccordionContext = createContext<{\n  openItems: Set<string>;\n  toggleItem: (value: string) => void;\n  variant: AccordionVariant;\n} | null>(null);\n\nconst AccordionRoot = ({\n  children,\n  allowMultiple = false,\n  className,\n  variant = \"default\",\n}: AccordionProps) => {\n  const [openItems, setOpenItems] = useState<Set<string>>(new Set());\n  const toggleItem = (value: string) => {\n    setOpenItems((prev) => {\n      const newOpenItems = new Set(prev);\n      if (newOpenItems.has(value)) {\n        newOpenItems.delete(value);\n      } else {\n        if (!allowMultiple) newOpenItems.clear();\n        newOpenItems.add(value);\n      }\n      return newOpenItems;\n    });\n  };\n\n  return (\n    <AccordionContext.Provider value={{ openItems, toggleItem, variant }}>\n      <div\n        role=\"presentation\"\n        className={cn(\n          accordionWrapperVarinats({ variant }),\n          variant === \"splitted\" && \"gap-y-2\",\n          className,\n        )}\n      >\n        {children}\n      </div>\n    </AccordionContext.Provider>\n  );\n};\n\nconst AccordionItem = ({\n  children,\n  className,\n  style,\n  ...props\n}: AccordionItemProps) => {\n  const context = useContext(AccordionContext);\n  if (!context)\n    throw new Error(\"AccordionItem must be used within AccordionRoot\");\n  const { variant } = context;\n  return (\n    <div\n      role=\"presentation\"\n      className={cn(accordionItemVariants({ variant }), className)}\n      style={style}\n      {...props}\n    >\n      <div className=\"relative\">{children}</div>\n    </div>\n  );\n};\n\nconst AccordionItemHeader = ({ value, children }: AccordionItemHeaderProps) => {\n  const context = useContext(AccordionContext);\n  if (!context)\n    throw new Error(\"AccordionTrigger must be used within AccordionRoot\");\n  const { openItems } = context;\n\n  const isOpen = openItems.has(value);\n\n  return (\n    <div className=\"flex items-center justify-between rounded-xl px-8 pt-4 font-medium text-balance\">\n      <div className=\"\">{children}</div>\n      <AnimatedPlusMinusButton isOpen={isOpen} />\n    </div>\n  );\n};\n\nconst AccordionItemTrigger = ({\n  value,\n  children,\n}: AccordionItemTriggerProps) => {\n  const context = useContext(AccordionContext);\n  if (!context)\n    throw new Error(\"AccordionTrigger must be used within AccordionRoot\");\n\n  const { openItems, toggleItem } = context;\n  const isOpen = openItems.has(value);\n\n  return (\n    <div\n      aria-expanded={isOpen}\n      onClick={() => toggleItem(value)}\n      className=\"cursor-pointer\"\n    >\n      {children}\n    </div>\n  );\n};\n\nconst AccordionItemContent = ({\n  children,\n  value,\n}: AccordionItemContentProps) => {\n  const context = useContext(AccordionContext);\n  if (!context)\n    throw new Error(\"AccordionContent must be used within AccordionRoot\");\n\n  const { openItems } = context;\n  const isOpen = openItems.has(value);\n\n  const ref = useRef<HTMLDivElement>(null);\n  const [height, setHeight] = useState(0);\n\n  useEffect(() => {\n    if (ref.current) {\n      setHeight(ref.current.offsetHeight + 16);\n    }\n  }, [isOpen]);\n\n  const variants = {\n    open: { opacity: [0, 0.5, 1], y: 0 },\n    exit: { opacity: 0, y: 50 },\n    initial: { opacity: 0, y: 50 },\n  };\n\n  return (\n    <motion.div\n      role=\"region\"\n      aria-hidden={!isOpen}\n      className={`overflow-hidden px-8 py-2 text-sm transition-[height] duration-300`}\n      initial={{ height: 0 }}\n      animate={{ height: isOpen ? height : 0 }}\n      transition={{ duration: 0.3, ease: \"easeIn\" }}\n    >\n      <motion.div\n        initial=\"initial\"\n        animate={isOpen ? \"open\" : \"exit\"}\n        transition={{\n          duration: 0.4,\n          ease: \"easeIn\",\n          delay: 0.3,\n          type: \"tween\",\n        }}\n        // className=\"pb-2\"\n        variants={variants}\n        ref={ref}\n      >\n        {children}\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport {\n  AccordionRoot,\n  AccordionItem,\n  AccordionItemHeader,\n  AccordionItemTrigger,\n  AccordionItemContent,\n  AccordionContext,\n};\n",
      "type": "registry:ui",
      "target": "components/ui/accordion/accordion.tsx"
    },
    {
      "path": "registry/sonaui/accordion/animated-plus-minus-button.tsx",
      "content": "\"use client\";\nimport { motion } from \"framer-motion\";\n\ninterface AnimatedPlusMinusButtonProps {\n  size?: number;\n  isOpen?: boolean;\n}\nconst AnimatedPlusMinusButton = ({\n  size = 24,\n  isOpen = false,\n}: AnimatedPlusMinusButtonProps) => {\n  return (\n    <span\n      role=\"button\"\n      aria-pressed=\"true\"\n      className=\"flex items-center justify-center\"\n    >\n      <motion.svg\n        width={size}\n        height={size}\n        viewBox=\"0 0 24 24\"\n        initial=\"closed\"\n        animate={isOpen ? \"open\" : \"closed\"}\n      >\n        {/* Horizontal line */}\n        <motion.line\n          x1=\"1\"\n          y1=\"12\"\n          x2=\"23\"\n          y2=\"12\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n          variants={{\n            closed: { opacity: 1 },\n            open: { opacity: 0 },\n          }}\n          transition={{ duration: 0.3 }}\n        />\n\n        {/* Vertical line */}\n        <motion.line\n          x1=\"12\"\n          y1=\"1\"\n          x2=\"12\"\n          y2=\"23\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n          variants={{\n            closed: { rotate: 0, opacity: 1 },\n            open: { rotate: 90, opacity: 1 },\n          }}\n          transition={{ duration: 0.3 }}\n        />\n      </motion.svg>\n    </span>\n  );\n};\n\nexport default AnimatedPlusMinusButton;\n",
      "type": "registry:ui",
      "target": "components/ui/accordion/animated-plus-minus-button.tsx"
    }
  ],
  "dependencies": [
    "class-variance-authority",
    "motion"
  ],
  "registryDependencies": []
}